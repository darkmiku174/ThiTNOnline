{"ast":null,"code":"var _jsxFileName = \"D:\\\\BaiTapTruong\\\\DoAnN\\\\ThiTNOnline\\\\frontend\\\\src\\\\components\\\\Teacher\\\\QuestionManager\\\\AddQuestion.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Form, Button } from \"react-bootstrap\";\nimport { listQuestion, createQuestion } from \"../../../actions/QuestionActions\";\nimport { QUESTION_CREATE_RESET } from '../../../constants/QuestionConstants';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport QuestionTypes from \"./QuestionTypes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddQuestion = ({\n  show,\n  onHide,\n  maMH\n}) => {\n  _s();\n\n  {\n    /*STATE*/\n  }\n  const [phanHoi, setPhanHoi] = useState(\"\");\n  const [cauA, setCauA] = useState(\"\");\n  const [cauB, setCauB] = useState(\"\");\n  const [cauC, setCauC] = useState(\"\");\n  const [cauD, setCauD] = useState(\"\");\n  const [dapAn, setDapAn] = useState(\"A\");\n  const [diem, setDiem] = useState(Number(0));\n  const [phanLoai, setPhanLoai] = useState(0);\n  const [startIndex, setStartIndex] = useState(0);\n  const [endIndex, setEndIndex] = useState(0);\n  const [questionType, setQuestionType] = useState(0);\n  const dsDapAn = [\"A\", \"B\", \"C\", \"D\"];\n  const [selectionRange, setSelectionRange] = useState({});\n  const [question, setQuestion] = useState({});\n  {\n    /*FUNCTIONS*/\n  }\n\n  const resetState = () => {\n    setCauA(\"\");\n    setCauB(\"\");\n    setCauC(\"\");\n    setCauD(\"\");\n    setPhanHoi(\"\");\n    setDapAn(\"A\");\n    setDiem(Number(0));\n    setPhanLoai(0);\n    setSelectionRange(0);\n    setStartIndex(0);\n    setEndIndex(0);\n  };\n\n  const hide = () => {\n    onHide();\n    resetState();\n  };\n\n  {\n    /*e:[\"A\",\"B\",\"C\",\"D\"]*/\n  }\n\n  const onPickCorrectAnswer = e => {\n    let holder = \"\";\n\n    switch (e.target.value) {\n      case \"A\":\n        onChangeHandler(dapAn, cauA);\n        break;\n\n      case \"B\":\n        onChangeHandler(dapAn, cauB);\n        break;\n\n      case \"C\":\n        onChangeHandler(dapAn, cauC);\n        break;\n\n      case \"D\":\n        onChangeHandler(dapAn, cauD);\n        break;\n    }\n\n    setDapAn(e.target.value);\n    sliceText(selectionRange, e.target.value);\n  };\n\n  const onPickLevel = e => {\n    setPhanLoai(e.target.value);\n  };\n\n  const onChangeHandler = (d, value) => {\n    switch (d) {\n      case \"A\":\n        setCauA(value);\n        break;\n\n      case \"B\":\n        setCauB(value);\n        break;\n\n      case \"C\":\n        setCauC(value);\n        break;\n\n      case \"D\":\n        setCauD(value);\n        break;\n\n      default:\n        value === \"\" ? resetState() : setPhanHoi(value);\n        break;\n    }\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    setQuestion({\n      MaMH: maMH,\n      PhanHoi: phanHoi,\n      CauA: cauA,\n      CauB: cauB,\n      CauC: cauC,\n      CauD: cauD,\n      DapAn: dapAn,\n      ThangDiem: diem,\n      PhanLoai: phanLoai,\n      StartIndex: startIndex,\n      EndIndex: endIndex\n    });\n    dispatch({\n      type: QUESTION_CREATE_RESET\n    });\n  };\n\n  const onPickQuestionType = e => {\n    if (e.target.value != questionType) {\n      resetState();\n    }\n\n    setQuestionType(e.target.value);\n  };\n\n  const sliceText = (e, d) => {\n    if (e.selectionStart != e.selectionEnd) {\n      setSelectionRange({\n        selectionStart: e.selectionStart,\n        selectionEnd: e.selectionEnd\n      });\n\n      if (!d) {\n        onChangeHandler(dapAn, phanHoi.slice(e.selectionStart, e.selectionEnd));\n      } else {\n        onChangeHandler(d, phanHoi.slice(e.selectionStart, e.selectionEnd));\n      }\n\n      setStartIndex(e.selectionStart);\n      setEndIndex(e.selectionEnd);\n    }\n  };\n\n  {\n    /*DISPATCH*/\n  }\n  const dispatch = useDispatch();\n  const questionCreate = useSelector(state => state.questionCreate);\n  const {\n    loading,\n    error,\n    questionCreated\n  } = questionCreate;\n  useEffect(() => {\n    if (Object.keys(question).length !== 0 && loading == null) {\n      dispatch(createQuestion(question));\n    } else if (Object.keys(question).length !== 0 && Object.keys(questionCreated).length !== 0 && loading == false) {\n      resetState();\n      setQuestion({});\n      dispatch(listQuestion());\n    }\n  }, [onSubmitHandler, questionCreated]);\n  {\n    /* RETURN */\n  }\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: hide,\n    size: \"modal-sm modal-lg\",\n    className: \"add-question-modal\",\n    overflow: \"visible\",\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Add Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        id: \"add-question-form\",\n        onSubmit: e => onSubmitHandler(e),\n        children: [/*#__PURE__*/_jsxDEV(QuestionTypes, {\n          phanHoi: phanHoi,\n          dsDapAn: dsDapAn,\n          type: questionType,\n          setPhanHoi: onChangeHandler,\n          onChangeHandler: onChangeHandler,\n          sliceText: sliceText,\n          selectionRange: selectionRange,\n          dapAn: dapAn,\n          cauA: cauA,\n          cauB: cauB,\n          cauC: cauC,\n          cauD: cauD\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"right-form parent-group\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"corect-answer first-child\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Ch\\u1ECDn lo\\u1EA1i c\\xE2u h\\u1ECFi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickQuestionType(e),\n                value: 0,\n                children: \"C\\u01A1 b\\u1EA3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickQuestionType(e),\n                value: 1,\n                children: \"\\u0110i\\u1EC1n v\\xE0o ch\\u1ED7 tr\\u1ED1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"corect-answer first-child\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Ch\\u1ECDn \\u0111\\xE1p \\xE1n \\u0111\\xFAng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickCorrectAnswer(e),\n                children: \"A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickCorrectAnswer(e),\n                children: \"B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickCorrectAnswer(e),\n                children: \"C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                onClick: e => onPickCorrectAnswer(e),\n                children: \"D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"point\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Thang \\u0110i\\u1EC3m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC3m cho c\\xE2u h\\u1ECFi\",\n              value: diem ? diem : null,\n              onChange: e => e.target.value === \"\" ? setDiem(Number(0)) : setDiem(Number(e.target.value))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"corect-answer\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Ph\\xE2n lo\\u1EA1i \\u0111\\u1ED9 kh\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              defaultValue: cauA,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                onClick: e => onPickLevel(e),\n                children: \"D\\u1EC5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                onClick: e => onPickLevel(e),\n                children: \"Trung b\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 2,\n                onClick: e => onPickLevel(e),\n                children: \"Kh\\xF3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      style: {\n        padding: \"0.7rem 10rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        className: \"btn btn-block\",\n        form: \"add-question-form\",\n        disabled: phanHoi === \"\" || cauA === \"\" || cauB === \"\" || cauC === \"\" || cauD === \"\" || dapAn === \"\" || diem === Number(0) || Object.keys(question).length !== 0 ? true : false,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddQuestion, \"FX6+XdLEWcwP19xnIoWsGen/+CE=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AddQuestion;\nexport default AddQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddQuestion\");","map":{"version":3,"sources":["D:/BaiTapTruong/DoAnN/ThiTNOnline/frontend/src/components/Teacher/QuestionManager/AddQuestion.js"],"names":["React","useEffect","useState","Modal","Form","Button","listQuestion","createQuestion","QUESTION_CREATE_RESET","useSelector","useDispatch","QuestionTypes","AddQuestion","show","onHide","maMH","phanHoi","setPhanHoi","cauA","setCauA","cauB","setCauB","cauC","setCauC","cauD","setCauD","dapAn","setDapAn","diem","setDiem","Number","phanLoai","setPhanLoai","startIndex","setStartIndex","endIndex","setEndIndex","questionType","setQuestionType","dsDapAn","selectionRange","setSelectionRange","question","setQuestion","resetState","hide","onPickCorrectAnswer","e","holder","target","value","onChangeHandler","sliceText","onPickLevel","d","onSubmitHandler","preventDefault","MaMH","PhanHoi","CauA","CauB","CauC","CauD","DapAn","ThangDiem","PhanLoai","StartIndex","EndIndex","dispatch","type","onPickQuestionType","selectionStart","selectionEnd","slice","questionCreate","state","loading","error","questionCreated","Object","keys","length","padding"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Modal, Form, Button} from \"react-bootstrap\";\r\nimport {listQuestion, createQuestion} from \"../../../actions/QuestionActions\";\r\nimport {QUESTION_CREATE_RESET} from '../../../constants/QuestionConstants';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport QuestionTypes from \"./QuestionTypes\";\r\n\r\nconst AddQuestion = ({show, onHide, maMH}) => {\r\n  {/*STATE*/}\r\n  const [phanHoi, setPhanHoi] = useState(\"\")\r\n  const [cauA, setCauA] = useState(\"\");\r\n  const [cauB, setCauB] = useState(\"\");\r\n  const [cauC, setCauC] = useState(\"\");\r\n  const [cauD, setCauD] = useState(\"\");\r\n  const [dapAn, setDapAn] = useState(\"A\");\r\n  const [diem, setDiem] = useState(Number(0));\r\n  const [phanLoai, setPhanLoai] = useState(0);\r\n  const [startIndex, setStartIndex] = useState(0);\r\n  const [endIndex, setEndIndex] = useState(0);\r\n  const [questionType, setQuestionType] = useState(0)\r\n  const dsDapAn = [\"A\", \"B\", \"C\", \"D\"];\r\n  const [selectionRange, setSelectionRange] = useState({})\r\n  const [question, setQuestion] = useState({})\r\n\r\n  {/*FUNCTIONS*/}\r\n  const resetState = () => {\r\n    setCauA(\"\");\r\n    setCauB(\"\");\r\n    setCauC(\"\");\r\n    setCauD(\"\");\r\n    setPhanHoi(\"\");\r\n    setDapAn(\"A\");\r\n    setDiem(Number(0));\r\n    setPhanLoai(0);\r\n    setSelectionRange(0)\r\n    setStartIndex(0);\r\n    setEndIndex(0);\r\n  }\r\n\r\n  const hide = () => {\r\n    onHide();\r\n    resetState();\r\n  }\r\n\r\n  {/*e:[\"A\",\"B\",\"C\",\"D\"]*/}\r\n  const onPickCorrectAnswer = (e) => {\r\n    let holder = \"\";\r\n    switch (e.target.value) {\r\n      case \"A\":\r\n        onChangeHandler(dapAn, cauA)\r\n        break;\r\n      case \"B\":\r\n        onChangeHandler(dapAn, cauB)\r\n        break;\r\n      case \"C\":\r\n        onChangeHandler(dapAn, cauC)\r\n        break;\r\n      case \"D\":\r\n        onChangeHandler(dapAn, cauD)\r\n        break;\r\n    }\r\n    setDapAn(e.target.value);\r\n    sliceText(selectionRange, e.target.value)\r\n  };\r\n\r\n  const onPickLevel = (e) => {\r\n    setPhanLoai(e.target.value);\r\n  };\r\n\r\n  const onChangeHandler = (d, value) => {\r\n    switch (d) {\r\n      case \"A\":\r\n        setCauA(value);\r\n        break;\r\n      case \"B\":\r\n        setCauB(value);\r\n        break;\r\n      case \"C\":\r\n        setCauC(value);\r\n        break;\r\n      case \"D\":\r\n        setCauD(value);\r\n        break;\r\n      default:\r\n        value === \"\" ?\r\n          resetState() : setPhanHoi(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    setQuestion(\r\n      {\r\n        MaMH: maMH,\r\n        PhanHoi: phanHoi,\r\n        CauA: cauA,\r\n        CauB: cauB,\r\n        CauC: cauC,\r\n        CauD: cauD,\r\n        DapAn: dapAn,\r\n        ThangDiem: diem,\r\n        PhanLoai: phanLoai,\r\n        StartIndex: startIndex,\r\n        EndIndex: endIndex\r\n      }\r\n    );\r\n    dispatch({type: QUESTION_CREATE_RESET})\r\n  };\r\n\r\n  const onPickQuestionType = (e) => {\r\n    if (e.target.value != questionType) {\r\n      resetState()\r\n    }\r\n    setQuestionType(e.target.value);\r\n  };\r\n\r\n  const sliceText = (e, d) => {\r\n    if (e.selectionStart != e.selectionEnd) {\r\n      setSelectionRange({\r\n        selectionStart: e.selectionStart,\r\n        selectionEnd: e.selectionEnd\r\n      });\r\n      if (!d) {\r\n        onChangeHandler(dapAn, phanHoi.slice(e.selectionStart, e.selectionEnd))\r\n      } else {\r\n        onChangeHandler(d, phanHoi.slice(e.selectionStart, e.selectionEnd))\r\n      }\r\n      setStartIndex(e.selectionStart);\r\n      setEndIndex(e.selectionEnd);\r\n    }\r\n  };\r\n\r\n  {/*DISPATCH*/}\r\n  const dispatch = useDispatch();\r\n  const questionCreate = useSelector((state) => state.questionCreate);\r\n  const {loading, error, questionCreated} = questionCreate;\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(question).length !== 0 && loading == null) {\r\n      dispatch(createQuestion(question))\r\n    } else if (Object.keys(question).length !== 0 && Object.keys(questionCreated).length !== 0 && loading == false) {\r\n      resetState();\r\n      setQuestion({})\r\n      dispatch(listQuestion())\r\n    }\r\n  }, [onSubmitHandler, questionCreated]);\r\n\r\n  {/* RETURN */}\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={hide}\r\n      size=\"modal-sm modal-lg\"\r\n      className=\"add-question-modal\"\r\n      overflow=\"visible\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add Question</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form\r\n          id=\"add-question-form\"\r\n          onSubmit={(e) => onSubmitHandler(e)}\r\n        >\r\n          <QuestionTypes\r\n            phanHoi={phanHoi}\r\n            dsDapAn={dsDapAn}\r\n            type={questionType}\r\n            setPhanHoi={onChangeHandler}\r\n            onChangeHandler={onChangeHandler}\r\n            sliceText={sliceText}\r\n            selectionRange={selectionRange}\r\n            dapAn={dapAn}\r\n            cauA={cauA}\r\n            cauB={cauB}\r\n            cauC={cauC}\r\n            cauD={cauD}\r\n          />\r\n          <Form.Group className=\"right-form parent-group\">\r\n            <Form.Group controlId=\"corect-answer first-child\">\r\n              <Form.Label>Chọn loại câu hỏi</Form.Label>\r\n              <Form.Control as=\"select\">\r\n                <option onClick={(e) => onPickQuestionType(e)} value={0}>\r\n                  Cơ bản\r\n                </option>\r\n                <option onClick={(e) => onPickQuestionType(e)} value={1}>\r\n                  Điền vào chỗ trống\r\n                </option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n\r\n            <div className=\"break\" />\r\n\r\n            <Form.Group controlId=\"corect-answer first-child\">\r\n              <Form.Label>Chọn đáp án đúng</Form.Label>\r\n              <Form.Control as=\"select\">\r\n                <option onClick={(e) => onPickCorrectAnswer(e)}>A</option>\r\n                <option onClick={(e) => onPickCorrectAnswer(e)}>B</option>\r\n                <option onClick={(e) => onPickCorrectAnswer(e)}>C</option>\r\n                <option onClick={(e) => onPickCorrectAnswer(e)}>D</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <div className=\"break\" />\r\n            <Form.Group controlId=\"point\">\r\n              <Form.Label>Thang Điểm</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Nhập số điểm cho câu hỏi\"\r\n                value={diem ? diem : null}\r\n                onChange={(e) =>\r\n                  e.target.value === \"\" ? setDiem(Number(0)) :\r\n                    setDiem(Number(e.target.value))\r\n                }\r\n              />\r\n            </Form.Group>\r\n            <div className=\"break\" />\r\n            <Form.Group controlId=\"corect-answer\">\r\n              <Form.Label>Phân loại độ khó</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={cauA}>\r\n                <option value={0} onClick={(e) => onPickLevel(e)}>\r\n                  Dễ\r\n                </option>\r\n                <option value={1} onClick={(e) => onPickLevel(e)}>\r\n                  Trung bình\r\n                </option>\r\n                <option value={2} onClick={(e) => onPickLevel(e)}>\r\n                  Khó\r\n                </option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer style={{padding: \"0.7rem 10rem\"}}>\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"btn btn-block\"\r\n          form=\"add-question-form\"\r\n          disabled={phanHoi === \"\" || cauA === \"\" || cauB === \"\" || cauC === \"\" || cauD === \"\" || dapAn === \"\" || diem === Number(0) || Object.keys(question).length !== 0 ? true : false}\r\n        >\r\n          Add\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddQuestion;\r\n"]},"metadata":{},"sourceType":"module"}